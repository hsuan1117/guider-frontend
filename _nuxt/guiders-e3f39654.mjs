import{a as H,t as V,r as D,p as K,b as J,e as P,f as z,l as W,P as I,w as X,h as Y,i as M,j as Z,R as F,k as G,m as E,o as c,c as B,q as v,s as ee,v as m,x as L,y as _,z as s,u as h,A as $,B as te,F as C,C as S,D as le,E as se,H as ae,G as oe,I as R,J as re,K as w,L as T,M as j,N as A,O as ne,Q as ie}from"./entry-ccb149fb.mjs";import{u as ue,r as ce}from"./StarIcon-19726815.mjs";import{_ as de}from"./Footer-374c2e25.mjs";var pe=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(pe||{});let Q=Symbol("DisclosureContext");function N(r){let p=G(Q,null);if(p===null){let g=new Error(`<${r} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,N),g}return p}let U=Symbol("DisclosurePanelContext");function fe(){return G(U,null)}let me=H({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(r,{slots:p,attrs:g}){let d=`headlessui-disclosure-button-${V()}`,o=`headlessui-disclosure-panel-${V()}`,i=D(r.defaultOpen?0:1),y=D(null),x=D(null),f={buttonId:d,panelId:o,disclosureState:i,panel:y,button:x,toggleDisclosure(){i.value=z(i.value,{[0]:1,[1]:0})},closeDisclosure(){i.value!==1&&(i.value=1)},close(u){f.closeDisclosure();let b=(()=>u?u instanceof HTMLElement?u:u.value instanceof HTMLElement?M(u):M(f.button):M(f.button))();b==null||b.focus()}};return K(Q,f),J(P(()=>z(i.value,{[0]:W.Open,[1]:W.Closed}))),()=>{let{defaultOpen:u,...b}=r,t={open:i.value===0,close:f.close};return I({theirProps:b,ourProps:{},slot:t,slots:p,attrs:g,name:"Disclosure"})}}}),he=H({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(r,{attrs:p,slots:g,expose:d}){let o=N("DisclosureButton"),i=fe(),y=i===null?!1:i===o.panelId,x=D(null);d({el:x,$el:x}),y||X(()=>{o.button.value=x.value});let f=Y(P(()=>({as:r.as,type:p.type})),x);function u(){var e;r.disabled||(y?(o.toggleDisclosure(),(e=M(o.button))==null||e.focus()):o.toggleDisclosure())}function b(e){var n;if(!r.disabled)if(y)switch(e.key){case E.Space:case E.Enter:e.preventDefault(),e.stopPropagation(),o.toggleDisclosure(),(n=M(o.button))==null||n.focus();break}else switch(e.key){case E.Space:case E.Enter:e.preventDefault(),e.stopPropagation(),o.toggleDisclosure();break}}function t(e){switch(e.key){case E.Space:e.preventDefault();break}}return()=>{let e={open:o.disclosureState.value===0},n=y?{ref:x,type:f.value,onClick:u,onKeydown:b}:{id:o.buttonId,ref:x,type:f.value,"aria-expanded":r.disabled?void 0:o.disclosureState.value===0,"aria-controls":M(o.panel)?o.panelId:void 0,disabled:r.disabled?!0:void 0,onClick:u,onKeydown:b,onKeyup:t};return I({ourProps:n,theirProps:r,slot:e,attrs:p,slots:g,name:"DisclosureButton"})}}}),ve=H({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(r,{attrs:p,slots:g,expose:d}){let o=N("DisclosurePanel");d({el:o.panel,$el:o.panel}),K(U,o.panelId);let i=Z(),y=P(()=>i!==null?i.value===W.Open:o.disclosureState.value===0);return()=>{let x={open:o.disclosureState.value===0,close:o.close},f={id:o.panelId,ref:o.panel};return I({ourProps:f,theirProps:r,slot:x,attrs:p,slots:g,features:F.RenderStrategy|F.Static,visible:y.value,name:"DisclosurePanel"})}}});function xe(r,p){return c(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])}function _e(r,p){return c(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}function ge(r,p){return c(),B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[v("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function ye(r,p){return c(),B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[v("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})])}const be={class:"bg-white"},we={class:"ml-auto relative max-w-xs w-full h-full bg-white shadow-xl py-4 pb-6 flex flex-col overflow-y-auto"},ke={class:"px-4 flex items-center justify-between"},De=s("h2",{class:"text-lg font-medium text-gray-900"},"\u904E\u6FFE\u5668",-1),$e=s("span",{class:"sr-only"},"Close menu",-1),Ce={class:"mt-4"},Se={class:"w-full px-2"},Be={class:"text-sm font-medium text-gray-900"},Me={class:"ml-6 h-7 flex items-center"},Oe={class:"space-y-6"},Ee=["id","name","value"],Pe=["for"],qe={class:"max-w-2xl mx-auto px-8 lg:max-w-7xl lg:px-8"},je=s("div",{class:"border-b border-gray-200 pt-24 pb-10"},[s("h1",{class:"text-4xl font-extrabold tracking-tight text-gray-900"},"\u5F15\u8DEF\u4EBA")],-1),Ae={class:"pt-12 pb-24 lg:grid lg:grid-cols-3 lg:gap-x-8 xl:grid-cols-4"},We=s("h2",{class:"sr-only"},"\u904E\u6FFE\u5668",-1),He=s("span",{class:"text-sm font-medium text-gray-700"},"\u904E\u6FFE\u5668",-1),Ie={class:"hidden lg:block"},Ne={class:"divide-y divide-gray-200 space-y-10"},Ve={class:"block text-sm font-medium text-gray-900"},ze={class:"pt-6 space-y-3"},Fe={class:"flex items-center"},Le=["id","value"],Re=["for"],Te=["id","name","value"],Ke=["for"],Ge={"aria-labelledby":"product-heading",class:"mt-6 lg:mt-0 lg:col-span-2 xl:col-span-3"},Qe=s("h2",{id:"product-heading",class:"sr-only"},"\u5F15\u8DEF\u4EBA\u5217\u8868",-1),Ue={key:0},Je={class:"grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-6 sm:gap-y-10 lg:gap-x-8 xl:grid-cols-3"},Xe=["href"],Ye={class:"aspect-w-3 aspect-h-4 bg-gray-200 group-hover:opacity-75 sm:aspect-none sm:h-96"},Ze={class:"flex-1 p-4 space-y-2 flex flex-col"},et={class:"text-2xl font-medium text-gray-900"},tt=["href"],lt=s("span",{"aria-hidden":"true",class:"absolute inset-0"},null,-1),st={class:"text-xl text-gray-700"},at={class:"text-sm text-gray-500"},ot={class:"flex flex-row"},rt=s("span",{class:"text-sm ml-1"},w(0)+" \u500B\u8A55\u50F9",-1),ct={__name:"guiders",async setup(r){let p,g;const{data:{value:d}}=([p,g]=ee(()=>ue(`${se().public.API_ENDPOINT}/guiders`,"$Q9DuvDHbQS")),p=await p,g(),p);D(!1);const o=D(!1);P(()=>{if(!f)return m.uniq(d.map(e=>e.profile.department)).map(e=>({label:e,value:e}));console.log(f);let t=m.xor(f,u.value).filter(e=>e.startsWith("School-")).map(e=>e.split("-")[1]);return m.uniq(d.filter(e=>!t.includes(e.profile.school)).map(e=>e.profile.department)).map(e=>({label:e,value:e}))}),m.uniq(d.reduce((t,e)=>{var n;return[...t,...(n=e.profile.enterMethod)!=null?n:[]]},[])),m.uniq(d.map(t=>t.profile.school)),m.uniq(d.map(t=>t.profile.school+t.profile.college)),m.uniq(d.map(t=>t.profile.department));const i=D([{id:"EnterMethod",name:"\u5165\u5B78\u65B9\u5F0F",options:m.uniq(d.reduce((t,e)=>{var n;return[...t,...(n=e.profile.enterMethod)!=null?n:[]]},[])).map(t=>({label:t,value:t}))},{id:"School",name:"\u5B78\u6821",options:m.uniq(d.map(t=>t.profile.school)).map(t=>({label:t,value:t}))},{id:"College",name:"\u5B78\u9662",options:m.uniq(d.map(t=>t.profile.school+t.profile.college)).map(t=>({label:t,value:t}))},{id:"Department",name:"\u7CFB\u6240",options:m.uniq(d.map(t=>t.profile.department)).map(t=>({label:t,value:t}))}]),y=i.value.map(t=>t.id),x=D(i.value.map(t=>t.id)),f=[...i.value.reduce((t,e)=>[...t,...e.options.map(n=>e.id+"-"+n.value)],[]),...i.value.map(t=>t.id).map(t=>t+"-all")],u=D(f),b=P(()=>{let t=m.xor(f,u.value);return d.filter(e=>{let n=0;for(let l of t)if(l.startsWith("EnterMethod-"))e.profile.enterMethod.includes(l.split("-")[1])&&n++;else if(l.startsWith("School-")){if(e.profile.school.indexOf(l.split("-")[1])>-1)return!1}else if(l.startsWith("College-")){if((e.profile.school+e.profile.college).indexOf(l.split("-")[1])>-1)return!1}else if(l.startsWith("Department-")&&e.profile.department.indexOf(l.split("-")[1])>-1)return!1;return n!==e.profile.enterMethod.length})});return L(x,t=>{m.xor(y,t).forEach(n=>u.value=u.value.filter(l=>!l.startsWith(n))),t.forEach(n=>u.value=m.uniq([...u.value,...f.filter(l=>l.startsWith(n))]))}),L(u,t=>{let e=m.xor(f,t);const n=e.filter(a=>a.startsWith("School-")).map(a=>a.split("-")[1]),l=e.filter(a=>a.startsWith("College-")).map(a=>a.split("-")[1]);i.value[2].options=m.uniq(d.filter(a=>!n.includes(a.profile.school)).map(a=>a.profile.school+a.profile.college)).map(a=>({label:a,value:a})),i.value[3].options=m.uniq(d.filter(a=>!n.includes(a.profile.school)&&!l.includes(a.profile.school+a.profile.college)).map(a=>a.profile.department)).map(a=>({label:a,value:a}))}),(t,e)=>{const n=ie;return c(),_("div",be,[s("div",null,[v(h(ae))]),s("div",null,[v(h(te),{as:"template",show:o.value},{default:$(()=>[v(h(oe),{as:"div",class:"fixed inset-0 flex z-40 lg:hidden",onClose:e[2]||(e[2]=l=>o.value=!1)},{default:$(()=>[v(h(R),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:$(()=>[v(h(re),{class:"fixed inset-0 bg-black bg-opacity-25"})]),_:1}),v(h(R),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:$(()=>[s("div",we,[s("div",ke,[De,s("button",{type:"button",class:"-mr-2 w-10 h-10 p-2 flex items-center justify-center text-gray-400 hover:text-gray-500",onClick:e[0]||(e[0]=l=>o.value=!1)},[$e,v(h(_e),{class:"h-6 w-6","aria-hidden":"true"})])]),s("form",Ce,[(c(!0),_(C,null,S(i.value,l=>(c(),B(h(me),{as:"div",key:l.name,class:"border-t border-gray-200 pt-4 pb-4"},{default:$(({open:a})=>[s("fieldset",null,[s("legend",Se,[v(h(he),{class:"w-full p-2 flex items-center justify-between text-gray-400 hover:text-gray-500"},{default:$(()=>[s("span",Be,w(l.name),1),s("span",Me,[v(h(ge),{class:T([a?"-rotate-180":"rotate-0","h-5 w-5 transform"]),"aria-hidden":"true"},null,8,["class"])])]),_:2},1024)]),v(h(ve),{class:"pt-4 pb-2 px-4"},{default:$(()=>[s("div",Oe,[(c(!0),_(C,null,S(l.options,(k,O)=>(c(),_("div",{key:k.value,class:"flex items-center"},[j(s("input",{id:`${l.id}-${O}-mobile`,name:`${l.id}[]`,value:l.id+"-"+k.value,type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=q=>u.value=q),class:"h-4 w-4 border-gray-300 rounded text-primary focus:ring-primary"},null,8,Ee),[[A,u.value]]),s("label",{for:`${l.id}-${O}-mobile`,class:"ml-3 text-sm text-gray-500"},w(k.label),9,Pe)]))),128))])]),_:2},1024)])]),_:2},1024))),128))])])]),_:1})]),_:1})]),_:1},8,["show"]),s("main",qe,[je,s("div",Ae,[s("aside",null,[We,s("button",{type:"button",class:"inline-flex items-center lg:hidden",onClick:e[3]||(e[3]=l=>o.value=!0)},[He,v(h(ye),{class:"flex-shrink-0 ml-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),s("div",Ie,[s("form",Ne,[(c(!0),_(C,null,S(i.value,(l,a)=>(c(),_("div",{key:l.name,class:T(a===0?null:"pt-10")},[s("fieldset",null,[s("legend",Ve,w(l.name),1),s("div",ze,[s("div",Fe,[j(s("input",{id:`${l.id}-all`,type:"checkbox",value:l.id,"onUpdate:modelValue":e[4]||(e[4]=k=>x.value=k),class:"h-4 w-4 border-gray-300 rounded text-primary focus:ring-primary"},null,8,Le),[[A,x.value]]),s("label",{for:`${l.id}-all`,class:"ml-3 text-sm text-gray-600 font-extrabold"}," \u5168\u9078 ",8,Re)]),(c(!0),_(C,null,S(l.options,(k,O)=>(c(),_("div",{key:k.value,class:"flex items-center"},[j(s("input",{id:`${l.id}-${O}`,name:`${l.id}[]`,value:l.id+"-"+k.value,type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=q=>u.value=q),class:"h-4 w-4 border-gray-300 rounded text-primary focus:ring-primary"},null,8,Te),[[A,u.value]]),s("label",{for:`${l.id}-${O}`,class:"ml-3 text-sm text-gray-600"},w(k.label),9,Ke)]))),128))])])],2))),128))])])]),s("section",Ge,[Qe,h(b).length===0?(c(),_("div",Ue," Oops~ \u67E5\u7121\u5F15\u8DEF\u4EBA\uFF0C\u5617\u8A66\u653E\u5BEC\u7BE9\u9078\u6A19\u6E96\u5427 ")):le("",!0),s("div",Je,[(c(!0),_(C,null,S(h(b),l=>(c(),_("a",{key:l.id,href:`/info/${l.id}`,class:"group relative bg-white border border-gray-200 rounded-lg flex flex-col overflow-hidden px-4 py-6"},[s("div",Ye,[v(n,{src:l.profile_photo_url,alt:l.name+"\u982D\u50CF",class:"w-full h-full object-center object-cover sm:w-full sm:h-full"},null,8,["src","alt"])]),s("div",Ze,[s("h3",et,[s("a",{href:l.href},[lt,ne(" "+w(l.name),1)],8,tt)]),s("p",st,w(l.profile.school)+w(l.profile.department)+" | "+w(l.profile.enterMethod.join("\u3001")),1),s("p",at,w(l.profile.introduction.substring(0,40)+"..."),1),s("div",ot,[(c(!0),_(C,null,S([1,2,3,4,5].filter(a=>a<0),a=>(c(),B(h(ce),{key:a,class:"text-yellow-400"}))),128)),(c(!0),_(C,null,S([1,2,3,4,5].filter(a=>a>0),a=>(c(),B(h(xe),{key:a,class:"text-gray-300 flex-shrink-0 h-5 w-5"}))),128)),rt])])],8,Xe))),128))])])])]),v(h(de))])])}}};export{ct as default};
